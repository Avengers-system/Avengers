<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="department">
	<resultMap id="pfrsOfDept" type="java.util.HashMap">
	 	<result javaType="java.lang.Integer" column="count" property="count"/>
	 	<result javaType="java.lang.String" column="DEPT_NM" property="dept_nm"/>
	 	<result javaType="java.lang.String" column="DEPT_NUM" property="dept_num"/>
 	 </resultMap>
	<!-- id의 경우에는 Mapper.java에 동일하게 사용해야된다. -->
	<select id="getPfrsOfDeptList" resultMap="pfrsOfDept">
		SELECT COUNT(PRFS_NUM) as count, DEPT_NM, DEPT_NUM
		FROM   PROFESSOR, DEPARTMENT
		WHERE  PRFS_DEPT = DEPT_NUM
		GROUP BY DEPT_NUM, DEPT_NM
	</select>
</mapper>