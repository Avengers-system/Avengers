<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="admin">

	<!-- id의 경우에는 Mapper.java에 동일하게 사용해야된다. -->
	<select id="selectAdmin" parameterType="com.avengers.db.dto.AdminVO" resultType="com.avengers.db.dto.AdminVO">
		SELECT ADMIN_PIC,
			   ADMIN_ID,
			   ADMIN_NM,
			   ADMIN_BIR,
			   ADMIN_EMAIL,
			   ADMIN_TEL,
			   ADMIN_HP,
			   ADMIN_POST,
			   ADMIN_BANK
		FROM ADMIN
		WHERE ADMIN_ID = #{admin_id}
	</select>
	
	

	<!-- id의 경우에는 Mapper.java에 동일하게 사용해야된다. -->
	<select id="getAdminInfo" resultType="com.avengers.db.dto.AdminVO" parameterType="string">
		SELECT * FROM ADMIN WHERE ADMIN_ID = #{adminId}
	</select>
	
	<select id="getPersonScheduleInfo" resultType="com.avengers.db.dto.PerschdVO" parameterType="string">
		SELECT * FROM PERSCHD WHERE PERSCHD_WRITER = #{adminId}
	</select>
	
	
	<insert id="insertProfessor"  parameterType="com.avengers.db.dto.PrfsVO">
		INSERT 
		INTO PROFESSOR
		VALUES (
		'2017'|| lpad(prfs_seq.nextval,3,0 ),
		#prfs_nm#,
		#prfs_eng_nm#,
		#prfs_bir#,
		#prfs_email#,
		#prfs_pw#,
		#prfs_regno#,
		#prfs_gen#,
		#prgs_pic#,
		#prfs_act_num#,
		#prfs_bank#,
		#prfs_ah#,
		#prfs_addr#,
		#prfs_zip#,
		#prfs_tel#,
		#prfs_hp#,
		#prfs_dept#
		)
 	
	</insert>
	
	<insert id="insertSecurity" parameterType="com.avengers.db.dto.PrfsVO">
	INSERT 
		INTO SEQURITY
		VALUES (#prfs_num#,
				#prfs_pw#,
				'1',
				'ROLE_PROF' 
		)
	</insert>
</mapper>
